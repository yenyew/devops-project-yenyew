function cov_1o93fl2zwf(){var path="C:\\Users\\yenye\\Documents\\DVOPS_Projects\\devops-project-yenyew\\public\\js\\search-job.js";var hash="f51017c0ac8839c8a07e230c7edde126cfb8a03f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\yenye\\Documents\\DVOPS_Projects\\devops-project-yenyew\\public\\js\\search-job.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:37}},"1":{start:{line:4,column:4},end:{line:27,column:5}},"2":{start:{line:5,column:38},end:{line:5,column:47}},"3":{start:{line:8,column:20},end:{line:8,column:22}},"4":{start:{line:10,column:8},end:{line:15,column:9}},"5":{start:{line:11,column:12},end:{line:14,column:14}},"6":{start:{line:17,column:8},end:{line:19,column:9}},"7":{start:{line:18,column:12},end:{line:18,column:55}},"8":{start:{line:22,column:21},end:{line:22,column:42}},"9":{start:{line:23,column:8},end:{line:23,column:42}},"10":{start:{line:25,column:8},end:{line:25,column:54}},"11":{start:{line:26,column:8},end:{line:26,column:64}},"12":{start:{line:30,column:0},end:{line:32,column:1}}},fnMap:{"0":{name:"searchJobs",decl:{start:{line:3,column:15},end:{line:3,column:25}},loc:{start:{line:3,column:36},end:{line:28,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:15,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:15,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:10},"1":{loc:{start:{line:17,column:8},end:{line:19,column:9}},type:"if",locations:[{start:{line:17,column:8},end:{line:19,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:17},"2":{loc:{start:{line:17,column:12},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:12},end:{line:17,column:20}},{start:{line:17,column:24},end:{line:17,column:51}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f51017c0ac8839c8a07e230c7edde126cfb8a03f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1o93fl2zwf=function(){return actualCoverage;};}return actualCoverage;}cov_1o93fl2zwf();const Job=(cov_1o93fl2zwf().s[0]++,require('../models/jobs'));async function searchJobs(req,res){cov_1o93fl2zwf().f[0]++;cov_1o93fl2zwf().s[1]++;try{const{keyword,location}=(cov_1o93fl2zwf().s[2]++,req.query);// Build query object
let query=(cov_1o93fl2zwf().s[3]++,{});cov_1o93fl2zwf().s[4]++;if(keyword){cov_1o93fl2zwf().b[0][0]++;cov_1o93fl2zwf().s[5]++;query.$or=[{name:new RegExp(keyword,'i')},// Search by job name
{companyName:new RegExp(keyword,'i')}// Search by company name
];}else{cov_1o93fl2zwf().b[0][1]++;}cov_1o93fl2zwf().s[6]++;if((cov_1o93fl2zwf().b[2][0]++,location)&&(cov_1o93fl2zwf().b[2][1]++,location!=='Any Location')){cov_1o93fl2zwf().b[1][0]++;cov_1o93fl2zwf().s[7]++;query.location=new RegExp(location,'i');// Search by location
}else{cov_1o93fl2zwf().b[1][1]++;}// Find jobs based on query
const jobs=(cov_1o93fl2zwf().s[8]++,await Job.find(query));cov_1o93fl2zwf().s[9]++;return res.status(200).json(jobs);}catch(error){cov_1o93fl2zwf().s[10]++;console.error("Error searching jobs:",error);cov_1o93fl2zwf().s[11]++;return res.status(500).json({message:error.message});}}cov_1o93fl2zwf().s[12]++;module.exports={searchJobs};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW85M2ZsMnp3ZiIsImFjdHVhbENvdmVyYWdlIiwiSm9iIiwicyIsInJlcXVpcmUiLCJzZWFyY2hKb2JzIiwicmVxIiwicmVzIiwiZiIsImtleXdvcmQiLCJsb2NhdGlvbiIsInF1ZXJ5IiwiYiIsIiRvciIsIm5hbWUiLCJSZWdFeHAiLCJjb21wYW55TmFtZSIsImpvYnMiLCJmaW5kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsic2VhcmNoLWpvYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2IgPSByZXF1aXJlKCcuLi9tb2RlbHMvam9icycpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2VhcmNoSm9icyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGtleXdvcmQsIGxvY2F0aW9uIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkIHF1ZXJ5IG9iamVjdFxyXG4gICAgICAgIGxldCBxdWVyeSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAoa2V5d29yZCkge1xyXG4gICAgICAgICAgICBxdWVyeS4kb3IgPSBbXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IG5ldyBSZWdFeHAoa2V5d29yZCwgJ2knKSB9LCAvLyBTZWFyY2ggYnkgam9iIG5hbWVcclxuICAgICAgICAgICAgICAgIHsgY29tcGFueU5hbWU6IG5ldyBSZWdFeHAoa2V5d29yZCwgJ2knKSB9IC8vIFNlYXJjaCBieSBjb21wYW55IG5hbWVcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsb2NhdGlvbiAmJiBsb2NhdGlvbiAhPT0gJ0FueSBMb2NhdGlvbicpIHtcclxuICAgICAgICAgICAgcXVlcnkubG9jYXRpb24gPSBuZXcgUmVnRXhwKGxvY2F0aW9uLCAnaScpOyAvLyBTZWFyY2ggYnkgbG9jYXRpb25cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpbmQgam9icyBiYXNlZCBvbiBxdWVyeVxyXG4gICAgICAgIGNvbnN0IGpvYnMgPSBhd2FpdCBKb2IuZmluZChxdWVyeSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGpvYnMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VhcmNoaW5nIGpvYnM6XCIsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHNlYXJjaEpvYnNcclxufVxyXG4iXSwibWFwcGluZ3MiOiJtdkVBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFBRSxHQUFHLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFFckMsY0FBZSxDQUFBQyxVQUFVQSxDQUFDQyxHQUFHLENBQUVDLEdBQUcsQ0FBRSxDQUFBUCxjQUFBLEdBQUFRLENBQUEsTUFBQVIsY0FBQSxHQUFBRyxDQUFBLE1BQ2hDLEdBQUksQ0FDQSxLQUFNLENBQUVNLE9BQU8sQ0FBRUMsUUFBUyxDQUFDLEVBQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUFHRyxHQUFHLENBQUNLLEtBQUssRUFFdkM7QUFDQSxHQUFJLENBQUFBLEtBQUssRUFBQVgsY0FBQSxHQUFBRyxDQUFBLE1BQUcsQ0FBQyxDQUFDLEVBQUNILGNBQUEsR0FBQUcsQ0FBQSxNQUVmLEdBQUlNLE9BQU8sQ0FBRSxDQUFBVCxjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLE1BQ1RRLEtBQUssQ0FBQ0UsR0FBRyxDQUFHLENBQ1IsQ0FBRUMsSUFBSSxDQUFFLEdBQUksQ0FBQUMsTUFBTSxDQUFDTixPQUFPLENBQUUsR0FBRyxDQUFFLENBQUMsQ0FBRTtBQUNwQyxDQUFFTyxXQUFXLENBQUUsR0FBSSxDQUFBRCxNQUFNLENBQUNOLE9BQU8sQ0FBRSxHQUFHLENBQUUsQ0FBRTtBQUFBLENBQzdDLENBQ0wsQ0FBQyxLQUFBVCxjQUFBLEdBQUFZLENBQUEsVUFBQVosY0FBQSxHQUFBRyxDQUFBLE1BRUQsR0FBSSxDQUFBSCxjQUFBLEdBQUFZLENBQUEsU0FBQUYsUUFBUSxJQUFBVixjQUFBLEdBQUFZLENBQUEsU0FBSUYsUUFBUSxHQUFLLGNBQWMsRUFBRSxDQUFBVixjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLE1BQ3pDUSxLQUFLLENBQUNELFFBQVEsQ0FBRyxHQUFJLENBQUFLLE1BQU0sQ0FBQ0wsUUFBUSxDQUFFLEdBQUcsQ0FBQyxDQUFFO0FBQ2hELENBQUMsS0FBQVYsY0FBQSxHQUFBWSxDQUFBLFVBRUQ7QUFDQSxLQUFNLENBQUFLLElBQUksRUFBQWpCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUQsR0FBRyxDQUFDZ0IsSUFBSSxDQUFDUCxLQUFLLENBQUMsRUFBQ1gsY0FBQSxHQUFBRyxDQUFBLE1BQ25DLE1BQU8sQ0FBQUksR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0gsSUFBSSxDQUFDLENBQ3JDLENBQUUsTUFBT0ksS0FBSyxDQUFFLENBQUFyQixjQUFBLEdBQUFHLENBQUEsT0FDWm1CLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHVCQUF1QixDQUFFQSxLQUFLLENBQUMsQ0FBQ3JCLGNBQUEsR0FBQUcsQ0FBQSxPQUM5QyxNQUFPLENBQUFJLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUcsT0FBTyxDQUFFRixLQUFLLENBQUNFLE9BQVEsQ0FBQyxDQUFDLENBQzNELENBQ0osQ0FBQ3ZCLGNBQUEsR0FBQUcsQ0FBQSxPQUVEcUIsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FDYnBCLFVBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==