function cov_1vho4hp9ew(){var path="C:\\Users\\yenye\\Documents\\DVOPS_Projects\\devops-project-yenyew\\public\\js\\applyjob.js";var hash="d1bd6b768f1cfe04c2564589ac673b288209e0e0";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\yenye\\Documents\\DVOPS_Projects\\devops-project-yenyew\\public\\js\\applyjob.js",statementMap:{"0":{start:{line:1,column:20},end:{line:1,column:52}},"1":{start:{line:4,column:4},end:{line:30,column:5}},"2":{start:{line:5,column:26},end:{line:5,column:36}},"3":{start:{line:6,column:55},end:{line:6,column:63}},"4":{start:{line:8,column:8},end:{line:10,column:9}},"5":{start:{line:9,column:12},end:{line:9,column:113}},"6":{start:{line:12,column:8},end:{line:14,column:9}},"7":{start:{line:13,column:12},end:{line:13,column:84}},"8":{start:{line:16,column:31},end:{line:23,column:10}},"9":{start:{line:25,column:33},end:{line:25,column:60}},"10":{start:{line:26,column:8},end:{line:26,column:54}},"11":{start:{line:28,column:8},end:{line:28,column:56}},"12":{start:{line:29,column:8},end:{line:29,column:77}},"13":{start:{line:33,column:0},end:{line:35,column:2}}},fnMap:{"0":{name:"applyjob",decl:{start:{line:3,column:15},end:{line:3,column:23}},loc:{start:{line:3,column:34},end:{line:31,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:10,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:10,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:8},"1":{loc:{start:{line:8,column:12},end:{line:8,column:38}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:18}},{start:{line:8,column:22},end:{line:8,column:38}}],line:8},"2":{loc:{start:{line:12,column:8},end:{line:14,column:9}},type:"if",locations:[{start:{line:12,column:8},end:{line:14,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d1bd6b768f1cfe04c2564589ac673b288209e0e0"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1vho4hp9ew=function(){return actualCoverage;};}return actualCoverage;}cov_1vho4hp9ew();const Application=(cov_1vho4hp9ew().s[0]++,require('../models/application'));async function applyjob(req,res){cov_1vho4hp9ew().f[0]++;cov_1vho4hp9ew().s[1]++;try{const{jobId}=(cov_1vho4hp9ew().s[2]++,req.params);const{name,age,education,phone,email}=(cov_1vho4hp9ew().s[3]++,req.body);cov_1vho4hp9ew().s[4]++;if((cov_1vho4hp9ew().b[1][0]++,!phone)||(cov_1vho4hp9ew().b[1][1]++,phone.length<6)){cov_1vho4hp9ew().b[0][0]++;cov_1vho4hp9ew().s[5]++;return res.status(400).json({message:'Validation error: phone number must be at least 6 digits'});}else{cov_1vho4hp9ew().b[0][1]++;}cov_1vho4hp9ew().s[6]++;if(age<18){cov_1vho4hp9ew().b[2][0]++;cov_1vho4hp9ew().s[7]++;return res.status(400).json({message:'Minimum age is 18 to apply.'});}else{cov_1vho4hp9ew().b[2][1]++;}const newApplication=(cov_1vho4hp9ew().s[8]++,new Application({jobId,name,age,education,phone,email}));const savedApplication=(cov_1vho4hp9ew().s[9]++,await newApplication.save());cov_1vho4hp9ew().s[10]++;return res.status(201).json(savedApplication);}catch(error){cov_1vho4hp9ew().s[11]++;console.error("Error applying for job:",error);cov_1vho4hp9ew().s[12]++;return res.status(500).json({message:'An error occurred',error});}}cov_1vho4hp9ew().s[13]++;module.exports={applyjob};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXZobzRocDlldyIsImFjdHVhbENvdmVyYWdlIiwiQXBwbGljYXRpb24iLCJzIiwicmVxdWlyZSIsImFwcGx5am9iIiwicmVxIiwicmVzIiwiZiIsImpvYklkIiwicGFyYW1zIiwibmFtZSIsImFnZSIsImVkdWNhdGlvbiIsInBob25lIiwiZW1haWwiLCJib2R5IiwiYiIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibmV3QXBwbGljYXRpb24iLCJzYXZlZEFwcGxpY2F0aW9uIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhcHBseWpvYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4uL21vZGVscy9hcHBsaWNhdGlvbicpO1xyXG4gXHJcbmFzeW5jIGZ1bmN0aW9uIGFwcGx5am9iKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgam9iSWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgeyBuYW1lLCBhZ2UsIGVkdWNhdGlvbiwgcGhvbmUsIGVtYWlsIH0gPSByZXEuYm9keTtcclxuIFxyXG4gICAgICAgIGlmICghcGhvbmUgfHwgcGhvbmUubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVmFsaWRhdGlvbiBlcnJvcjogcGhvbmUgbnVtYmVyIG11c3QgYmUgYXQgbGVhc3QgNiBkaWdpdHMnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFnZSA8IDE4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdNaW5pbXVtIGFnZSBpcyAxOCB0byBhcHBseS4nIH0pO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIGNvbnN0IG5ld0FwcGxpY2F0aW9uID0gbmV3IEFwcGxpY2F0aW9uKHtcclxuICAgICAgICAgICAgam9iSWQsXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIGFnZSxcclxuICAgICAgICAgICAgZWR1Y2F0aW9uLFxyXG4gICAgICAgICAgICBwaG9uZSxcclxuICAgICAgICAgICAgZW1haWxcclxuICAgICAgICB9KTtcclxuIFxyXG4gICAgICAgIGNvbnN0IHNhdmVkQXBwbGljYXRpb24gPSBhd2FpdCBuZXdBcHBsaWNhdGlvbi5zYXZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHNhdmVkQXBwbGljYXRpb24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYXBwbHlpbmcgZm9yIGpvYjpcIiwgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCcsIGVycm9yIH0pO1xyXG4gICAgfVxyXG59XHJcbiBcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBhcHBseWpvYlxyXG59O1xyXG4gIl0sIm1hcHBpbmdzIjoiaXlFQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsV0FBVyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEVBRXBELGNBQWUsQ0FBQUMsUUFBUUEsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLENBQUUsQ0FBQVAsY0FBQSxHQUFBUSxDQUFBLE1BQUFSLGNBQUEsR0FBQUcsQ0FBQSxNQUM5QixHQUFJLENBQ0EsS0FBTSxDQUFFTSxLQUFNLENBQUMsRUFBQVQsY0FBQSxHQUFBRyxDQUFBLE1BQUdHLEdBQUcsQ0FBQ0ksTUFBTSxFQUM1QixLQUFNLENBQUVDLElBQUksQ0FBRUMsR0FBRyxDQUFFQyxTQUFTLENBQUVDLEtBQUssQ0FBRUMsS0FBTSxDQUFDLEVBQUFmLGNBQUEsR0FBQUcsQ0FBQSxNQUFHRyxHQUFHLENBQUNVLElBQUksRUFBQ2hCLGNBQUEsR0FBQUcsQ0FBQSxNQUV4RCxHQUFJLENBQUFILGNBQUEsR0FBQWlCLENBQUEsVUFBQ0gsS0FBSyxJQUFBZCxjQUFBLEdBQUFpQixDQUFBLFNBQUlILEtBQUssQ0FBQ0ksTUFBTSxDQUFHLENBQUMsRUFBRSxDQUFBbEIsY0FBQSxHQUFBaUIsQ0FBQSxTQUFBakIsY0FBQSxHQUFBRyxDQUFBLE1BQzVCLE1BQU8sQ0FBQUksR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsMERBQTJELENBQUMsQ0FBQyxDQUN4RyxDQUFDLEtBQUFyQixjQUFBLEdBQUFpQixDQUFBLFVBQUFqQixjQUFBLEdBQUFHLENBQUEsTUFFRCxHQUFJUyxHQUFHLENBQUcsRUFBRSxDQUFFLENBQUFaLGNBQUEsR0FBQWlCLENBQUEsU0FBQWpCLGNBQUEsR0FBQUcsQ0FBQSxNQUNWLE1BQU8sQ0FBQUksR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsNkJBQThCLENBQUMsQ0FBQyxDQUMzRSxDQUFDLEtBQUFyQixjQUFBLEdBQUFpQixDQUFBLFVBRUQsS0FBTSxDQUFBSyxjQUFjLEVBQUF0QixjQUFBLEdBQUFHLENBQUEsTUFBRyxHQUFJLENBQUFELFdBQVcsQ0FBQyxDQUNuQ08sS0FBSyxDQUNMRSxJQUFJLENBQ0pDLEdBQUcsQ0FDSEMsU0FBUyxDQUNUQyxLQUFLLENBQ0xDLEtBQ0osQ0FBQyxDQUFDLEVBRUYsS0FBTSxDQUFBUSxnQkFBZ0IsRUFBQXZCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQW1CLGNBQWMsQ0FBQ0UsSUFBSSxDQUFDLENBQUMsRUFBQ3hCLGNBQUEsR0FBQUcsQ0FBQSxPQUNyRCxNQUFPLENBQUFJLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNHLGdCQUFnQixDQUFDLENBQ2pELENBQUUsTUFBT0UsS0FBSyxDQUFFLENBQUF6QixjQUFBLEdBQUFHLENBQUEsT0FDWnVCLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHlCQUF5QixDQUFFQSxLQUFLLENBQUMsQ0FBQ3pCLGNBQUEsR0FBQUcsQ0FBQSxPQUNoRCxNQUFPLENBQUFJLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLG1CQUFtQixDQUFFSSxLQUFNLENBQUMsQ0FBQyxDQUN4RSxDQUNKLENBQUN6QixjQUFBLEdBQUFHLENBQUEsT0FFRHdCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLENBQ2J2QixRQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=